<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<title>Example 3 - Integrating an AdTech Ad Server - Overriding the Request Template</title>
</head>
<body>
<script type="text/javascript" src="../../../../dist/js/ova-examples.js"></script>
<style type="text/css">
<!--
  @import url(../../../../dist/css/global.css);
-->
</style>
<script type="text/javascript">var OVA_CONFIG='ad-servers/adtech/ova03.xml';</script>
<h2>Example 3 - Integrating an AdTech Ad Server - Overriding the Request Template</h2>
<p class="example">
This example illustrates pre and post roll ads delivered from an AdTech Ad Server along
with an overlay ad and companions for both ad types. The configuration demonstrates how to
define the AdTech Ad Server VAST request using custom properties and how those properties
may be declared at the "general" or "ad slot" specific levels.
</p>
<div id="container">
  <div id="player_row">
     <div id="player-left-619">
        <script type="text/javascript">document.write(writePlayerEmbedCode(OVA_CONFIG, 3, 514, 345, "&file=http://streaming.openvideoads.org/shows/the-black-hole.mp4&duration=30&provider=video"));</script>
	    <div id="container-614x280">
		    <div id="companion-300x250">
		       A COMPANION ADVERTISEMENT<br/>(300x250)<br/>WILL APPEAR IN HERE
	   	 	</div>
	   	 	<div id="filler-310x254">
	   	 	   FILLER SPACE
	   	 	</div>
	   	</div>
   	 </div>
     <div id="player-right-600">
        <div id="companion-160x600">
          A COMPANION ADVERTISEMENT<br/>(160x600)<br/> WILL APPEAR IN HERE
        </div>
     </div>
  </div>
</div><p>
The configuration for this example is:
</p>
<div class="codebox">
<pre style="white-space: pre-wrap; white-space: -moz-pre-wrap !important; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;">
<code>
<script type="text/javascript">document.write(htmlEncode(writePlayerEmbedCode(OVA_CONFIG, 3, 514, 345, "&file=http://streaming.openvideoads.org/shows/the-black-hole.mp4&duration=30&provider=video")));</script>
</code>
</pre>
</div>
<p>
"<script type="text/javascript">document.write(OVA_CONFIG)</script>" is defined as:
</p>
<div class="codebox">
<pre>
<code class="xml">
&lt;config&gt;
   &lt;ova.title&gt;
       Example 3 - Integrating an AdTech Ad Server - Overriding the Request Template
   &lt;/ova.title&gt;
   &lt;ova.json&gt;
       {
            "ads": {
              "displayCompanions": true,
              "restoreCompanions": false,
              "companions": [
                   { "id":"companion-160x600", "width":"160", "height":"600" },
                   { "id":"companion-300x250", "width":"300", "height":"250" }
              ],
              "servers": [
                   {
                      "type": "AdTech",
                      "apiAddress": "http://adserver.adtech.de/?adrawdata/3.0/990.1",
                      "requestTemplate": "__api-address__/__zone__/__nondynamic__;
                                          alias=__alias____aliaspostfix__;key=__key__;
                                          __key-value__;__cookie-name__=__cookie-value__;
                                          grp=__group__;misc=__random-number__",
                      "oneAdPerRequest": true,
                      "customProperties": {
                           // override the server custom properties here
                      }
                   }
              ],
              "schedule": [
                   {
                      "zone": "2366662/0/1725", // placement/page-id/size-id
                      "position": "pre-roll"
                   },
                   {
                     "zone": "2366662/0/1725",
                     "position": "post-roll"
                     "server": {
                         "customProperties": {
                            "nondynamic": "noperf=1;cc=2;header=yes;cookie=yes;adct=204",
                            "alias": "",
                            "aliaspostfix": "", 
                            "key": "key1+key2", 
                            "key-value": "", 
                            "cookie-name": "", 
                            "cookie-value": "", 
                            "group": "[group]" 
                         }
                     }
                  }
              ]
            },

            "debug": {
              "debugger": "firebug",
              "levels": "fatal, config, vast_template, vpaid, playlist, api, analytics, http_calls"
            }
       }
   &lt;/ova.json&gt;
&lt;/config&gt;
</code>
</pre>
</div>
</body>
</html>

